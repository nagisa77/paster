(function(){"use strict";var e={2395:function(e,t,n){var o=n(5130),r=n(6768),a=n(4232);const s={key:0,class:"link-address"},i={class:"link-address-text"},c={key:0,class:"ldrs-tail-chase"},l={key:1};function d(e,t,n,d,p,u){const f=(0,r.g2)("l-tail-chase");return(0,r.uX)(),(0,r.CE)("div",{id:"app",class:"container",onDragover:t[4]||(t[4]=(0,o.D$)((()=>{}),["prevent"])),onDrop:t[5]||(t[5]=(0,o.D$)(((...e)=>u.handleDrop&&u.handleDrop(...e)),["prevent"]))},[t[6]||(t[6]=(0,r.Lk)("div",{class:"description"}," Please select a file to upload or paste the content. ",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.textContent=e),class:"textarea",placeholder:"Paste your content here"},null,512),[[o.Jo,p.textContent]]),(0,r.Lk)("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:t[1]||(t[1]=(...e)=>u.handleFileUpload&&u.handleFileUpload(...e))},null,544),p.linkAddress?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",i,(0,a.v_)(p.linkAddress),1),(0,r.Lk)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRn3Vx_iNdQ0h1PVB3xS1vomz-nOlbBkJFtx9nQ351QiZHwc3APEU8C7CENvfKQLYAmBr4&usqp=CAU",alt:"copy",class:"copy-icon",onClick:t[2]||(t[2]=(...e)=>u.copyLink&&u.copyLink(...e))})])):((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t[3]||(t[3]=(...e)=>u.triggerFileUpload&&u.triggerFileUpload(...e)),class:"upload-button"},[p.loading?((0,r.uX)(),(0,r.CE)("div",c,[(0,r.bF)(f,{size:"20",speed:"1.75",color:"white"})])):((0,r.uX)(),(0,r.CE)("div",l," File Select / Commit "))])),t[7]||(t[7]=(0,r.Lk)("div",{class:"footer"},[(0,r.eW)(" If you can not upload, please allow cors demo "),(0,r.Lk)("a",{href:"https://cors-anywhere.herokuapp.com/corsdemo"},"here"),(0,r.eW)(', and click "Request temporary access to the demo server" ')],-1))],32)}var p=n(2496),u=n(1219);p.A.register();var f={name:"App",data(){return{loading:!1,textContent:"",linkAddress:""}},methods:{triggerFileUpload(){this.textContent?this.uploadTextContent():this.$refs.fileInput.click()},async uploadTextContent(){this.loading=!0;try{const e=new FormData;e.append("content",this.textContent);const t=await fetch("https://cors-anywhere.herokuapp.com/https://paste.c-net.org/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:this.textContent}),n=await t.text();""===n?u.nk.error("Upload failed, please refer to the link below"):(u.nk.success("Upload successful"),console.log(n),this.linkAddress=this.extractLink(n))}catch(e){console.error("Error uploading text content:",e),u.nk.error("Upload failed")}finally{this.loading=!1}},async handleFileUpload(e){const t=e.target.files[0];t&&this.uploadFile(t)},async uploadFile(e){this.loading=!0;try{const t=new FormData;t.append("file",e);const n=await fetch("https://cors-anywhere.herokuapp.com/https://paste.c-net.org/",{method:"POST",body:t}),o=await n.text();this.linkAddress=this.extractLink(o),u.nk.success("Upload successful")}catch(t){console.error("Error uploading file:",t),u.nk.error("Upload failed")}finally{this.loading=!1}},handleDrop(e){const t=e.dataTransfer.files[0];t&&this.uploadFile(t)},extractLink(e){const t=e.match(/<a href="([^"]+)" target="_parent">/);return t?t[1]:""},copyLink(){const e=document.createElement("textarea");e.value=this.linkAddress,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{const e=document.execCommand("copy");if(!e)throw new Error("Copy command was unsuccessful");u.nk.success("Copy successful")}catch(t){console.error("Copy failed:",t),u.nk.error("Copy failed, please copy manually")}document.body.removeChild(e)}}},h=n(1241);const k=(0,h.A)(f,[["render",d],["__scopeId","data-v-60e7a4c6"]]);var y=k,m=n(198);n(4188);const v=(0,o.Ef)(y);v.use(m.A),v.config.globalProperties.$message=u.nk,v.mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],a=e[d][2];for(var i=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],i=o[1],c=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var d=c(n)}for(t&&t(o);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkpaster"]=self["webpackChunkpaster"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2395)}));o=n.O(o)})();
//# sourceMappingURL=app.e34a35a9.js.map