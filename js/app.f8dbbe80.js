(function(){"use strict";var t={6045:function(t,e,n){var o=n(5130),s=n(6768),a=n(4232);const r={id:"app",class:"container"},i={key:0,class:"link-address"},c={class:"link-address-text"},l={key:0,class:"ldrs-tail-chase"},d={key:1},h={key:2,class:"toast"};function u(t,e,n,u,p,f){const g=(0,s.g2)("l-tail-chase");return(0,s.uX)(),(0,s.CE)("div",r,[e[4]||(e[4]=(0,s.Lk)("div",{class:"description"}," Please select a file to upload or paste the content. ",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.textContent=t),class:"textarea",placeholder:"Paste your content here"},null,512),[[o.Jo,p.textContent]]),(0,s.Lk)("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:e[1]||(e[1]=(...t)=>f.handleFileUpload&&f.handleFileUpload(...t))},null,544),p.linkAddress?((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",c,(0,a.v_)(p.linkAddress),1),(0,s.Lk)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRn3Vx_iNdQ0h1PVB3xS1vomz-nOlbBkJFtx9nQ351QiZHwc3APEU8C7CENvfKQLYAmBr4&usqp=CAU",alt:"copy",class:"copy-icon",onClick:e[2]||(e[2]=(...t)=>f.copyLink&&f.copyLink(...t))})])):((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:e[3]||(e[3]=(...t)=>f.triggerFileUpload&&f.triggerFileUpload(...t)),class:"upload-button"},[p.loading?((0,s.uX)(),(0,s.CE)("div",l,[(0,s.bF)(g,{size:"20",speed:"1.75",color:"white"})])):((0,s.uX)(),(0,s.CE)("div",d," File Select / Commit "))])),e[5]||(e[5]=(0,s.Lk)("div",{class:"footer"},[(0,s.eW)(" If you can not upload, please allow cors demo "),(0,s.Lk)("a",{href:"https://cors-anywhere.herokuapp.com/corsdemo"},"here"),(0,s.eW)(', and click "Request temporary access to the demo server" ')],-1)),p.showToast?((0,s.uX)(),(0,s.CE)("div",h,(0,a.v_)(p.toastMessage),1)):(0,s.Q3)("",!0)])}n(4603),n(7566),n(8721);var p=n(2496);p.A.register();var f={name:"App",data(){return{loading:!1,textContent:"",linkAddress:"",showToast:!1,toastMessage:""}},methods:{triggerFileUpload(){this.textContent?this.uploadTextContent():this.$refs.fileInput.click()},async uploadTextContent(){this.loading=!0;try{const t=new FormData;t.append("content",this.textContent);const e=await fetch("https://cors-anywhere.herokuapp.com/https://paste.c-net.org/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({content:this.textContent})}),n=await e.text();this.showToastMessage("上传成功"),this.linkAddress=this.extractLink(n)}catch(t){console.error("Error uploading text content:",t)}finally{this.loading=!1}},async handleFileUpload(t){const e=t.target.files[0];if(e){this.loading=!0;try{const t=new FormData;t.append("file",e);const n=await fetch("https://cors-anywhere.herokuapp.com/https://paste.c-net.org/",{method:"POST",body:t}),o=await n.text();this.linkAddress=this.extractLink(o),this.showToastMessage("上传成功")}catch(n){console.error("Error uploading file:",n)}finally{this.loading=!1}}},extractLink(t){const e=t.match(/<a href="([^"]+)" target="_parent">/);return e?e[1]:""},showToastMessage(t,e=2e3){this.toastMessage=t,this.showToast=!0,setTimeout((()=>{this.showToast=!1}),e)},copyLink(){navigator.clipboard.writeText(this.linkAddress).then((()=>{this.showToastMessage("复制成功")})).catch((t=>{console.error("复制失败:",t),this.showToastMessage("复制失败，请手动复制")}))}}},g=n(1241);const k=(0,g.A)(f,[["render",u],["__scopeId","data-v-414e1127"]]);var v=k;(0,o.Ef)(v).mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,a){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],s=t[d][1],a=t[d][2];for(var i=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(i=!1,a<r&&(r=a));if(i){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,a,r=o[0],i=o[1],c=o[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var d=c(n)}for(e&&e(o);l<r.length;l++)a=r[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},o=self["webpackChunkpaster"]=self["webpackChunkpaster"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(6045)}));o=n.O(o)})();
//# sourceMappingURL=app.f8dbbe80.js.map